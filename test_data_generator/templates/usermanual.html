<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Data Generator</title>
    <style>
        .container {
            position: relative;
            display: flex;
            flex-direction: column;
            padding: 10px;
            min-width: 0;
            word-wrap: break-word;
            background-color: #fff;
            background-clip: border-box;
            border: 0px solid rgba(0, 0, 0, 0);
            border-radius: .25rem;
            margin-top: 0.4rem;
            margin-bottom: 0.4rem;
            box-shadow: 0 2px 6px 0 rgb(218 218 253 / 65%), 0 2px 6px 0 rgb(206 206 238 / 54%);
        }

        .container table {
            width: 100%;
            font-size: 14px;
        }

        .btn-circle {
            width: 30px;
            height: 30px;
            padding: 6px 0px;
            border-radius: 15px;
            text-align: center;
            font-size: 12px;
            line-height: 1.42857;
        }

        .nav-link {
            font-family: 'Roboto Slab', sans-serif;
            font-size: 16px;
            margin-right: 20px;
        }

        .nav-link.active {
            background-color: #bfbf9d;
            color: #000;
            border-radius: 10px;
            font-weight: 250;
            box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);
        }

        /* Style for the expandable content */
        .expandable-content {
            display: none; /* Hide content by default */
            padding: 10px;
            background-color: #fff;
            margin-top: 10px;
            font-size: 18px;
            font-family: Calibri, sans-serif;
        }
        /* Style for the expand/collapse button */
        .expand-btn {
            background-color: #fff;
            color: #0b084d;
            border: none;
            padding: 8px;
            cursor: pointer;
            outline: none;
            font-family: Calibri, sans-serif;
            font-size: 20px;
            font-weight: 600;
        }
        /* Arrow icon styles */
        .arrow-down {
            border: solid black;
            border-width: 0 3px 3px 0;
            display: inline-block;
            padding: 3px;
            margin-left: 5px;
            transition: transform 0.3s ease;
            transform: rotate(45deg);
        }
        .arrow-right {
            border: solid black;
            border-width: 0 3px 3px 0;
            display: inline-block;
            padding: 3px;
            margin-left: 5px;
            transition: transform 0.3s ease;
            transform: rotate(-45deg);
        }
        /* Divider line styles */
        .divider-line {
            border-top: 1px solid #ccc;
            margin-top: 10px;
            margin-bottom: 10px;
        }

        /* Style for the copyright container */
        .copyright-container {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        background-color: #4a1068;
        color: #fff;
        text-align: center;
        }

        /* Style for the scrolling text */
        .copyright-text {
        overflow: hidden; /* Hide overflowing content */
        white-space: nowrap; /* Prevent text wrapping */
        font-family: Calibri, sans-serif;
        animation: scrollText 20s linear infinite; /* Scroll animation */
        }

        /* Keyframes for the scrolling animation */
        @keyframes scrollText {
        0% {
            transform: translateX(100%);
        }
        100% {
            transform: translateX(-100%);
        }
        }
    </style>

    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>
<body>
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="{{ url_for('usermanual') }}">User Manual</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" aria-current="page" href="{{ url_for('form') }}">Metadata Upload</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" aria-current="page" href="{{ url_for('download') }}">CSV Download</a>
            </li>
            {% if miscellaneous_dict['does_log_exist'] %}
            <li class="nav-item">
                <a class="nav-link" aria-current="page" href="{{ url_for('log') }}">Check Log</a>
            </li>
            {%endif%}
            </ul>
        </div>
        </div>
    </nav>
    <div class="container" style="align-items: center;">
        <div class="row form">
            <div class="mb-3">
                <h5>Download <a href="/download_template" download>Metadata_CSV_Creator.xlsm</a> from here</h5>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- First expandable section -->
        <div class="expand-btn" onclick="toggleExpand('expandableContent1', 'arrowIcon1')">
            <div class="row">
                <div class="col-10">
                    How to create a metadata template?
                </div>
                <div class="col-2" align="right">
                    <span class="arrow-right" id="arrowIcon1"></span>
                </div>
            </div>
        </div>
        <div class="expandable-content" id="expandableContent1">
            <p>Double click on the batch file - test_data_generator.bat</p>
            <p><img src="{{ user_instructions_image_dict['section_1_image_1'] }}"></p>
            <hr>
            <p>This webpage will open in your browser –</p>
            <p><img src="{{ user_instructions_image_dict['section_1_image_2'] }}"></p>
            <hr>
            <p>Go to “User Manual” tab from the navigation bar and click on “Metadata_CSV_Creator.xlsm”.</p>
            <p><img src="{{ user_instructions_image_dict['section_1_image_3'] }}"></p>
            <hr>
            <p>File will be downloaded in your default download folder.</p>
            <p><img src="{{ user_instructions_image_dict['section_1_image_4'] }}"></p>
            <hr>
            <p>Initially the macro content may be blocked, when you open the excel. This message can appear – “Macros in this document have been disabled by your enterprise administrator for security reason.”
                <br>In that case please close the excel.
                </p>
            <p><img src="{{ user_instructions_image_dict['section_1_image_5'] }}"></p>
            <hr>
            <p>Right click on the file and go to properties.</p>
            <p><img src="{{ user_instructions_image_dict['section_1_image_6'] }}"></p>
            <hr>
            <p>Please check the unblock option against security and then reopen the file. This time the macro will be enabled.</p>
            <p><img src="{{ user_instructions_image_dict['section_1_image_7'] }}"></p>
            <hr>
            <p>There are few columns and buttons in the excel. Significance of each is as following – 
                <br>1)	column_name – This is mandatory to fill. Provide all the columns of a table for which you want to generate data.
                <br>2)	datatype – This is an optional field. If example_value is blank, then this is mandatory to fill. Here accepted values are – string(n), decimal(m;n), integer, date, timestamp
                <br>3)	example_value – This is an optional field. If datatype is blank, then this is mandatory to fill.
                <br>4)	min_value – In case of date, timestamp, integer and decimal, you can provide a minimum value.
                <br>5)	max_value – In case of date, timestamp, integer and decimal, you can provide a maximum value.
                <br>6)	format – for string the format can be – (alpha, numeric, alphanumeric, first_name, last_name, name, email, phone_number, street_address, city, postcode, country, state, date, time, date_time, user_name, url, job, credit_card_number, barcode, vehicle_make, vehicle_model, currency_symbol, currency_code, curreny_name, others). For date, this can be amongst – ('%Y-%m-%d', '%d-%m-%Y', '%m-%d-%Y', '%d-%b-%Y', '%b-%d-%Y', '%Y-%b-%d', '%Y.%m.%d', '%d.%m.%Y', '%y-%m-%d', '%d-%m-%y', '%m-%d-%y', '%d-%b-%y', '%b-%d-%y', '%y-%b-%d'). For timestamp, this can be amongst – ('%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%d-%m-%Y %H:%M:%S', '%d-%m-%Y %H:%M:%S.%f', '%d-%m-%Y %H:%M', '%m-%d-%Y %H:%M:%S', '%m-%d-%Y %H:%M:%S.%f', '%m-%d-%Y %H:%M', '%d-%b-%Y %H:%M:%S', '%d-%b-%Y %H:%M:%S.%f', '%d-%b-%Y %H:%M', '%b-%d-%Y %H:%M:%S', '%b-%d-%Y %H:%M:%S.%f', '%b-%d-%Y %H:%M'). 
                Choose as per your need of data.
                <br>7)	constraint – Choose between primary_key, null and not_null. These are self-explanatory.
                <br>8)	Export to CSV – This button generates csv file based on the data provided. However, it will only generate file, in case data has been validated already.
                <br>9)	Validate – This button validates the input data. All error messages will be shown in a pop-up.
                <br>10)	Reset – This helps reset all entries from the excel, except the header row.
                <br><br>An example of data entries is provided below.
                </p>
            <p><img src="{{ user_instructions_image_dict['section_1_image_8'] }}"></p>
        </div>

        <!-- Divider Line -->
        <div class="divider-line"></div>

        <div class="expand-btn" onclick="toggleExpand('expandableContent2', 'arrowIcon2')">
            <div class="row">
                <div class="col-10">
                    What can you do in "Metadata Upload" tab?
                </div>
                <div class="col-2" align="right">
                    <span class="arrow-right" id="arrowIcon2"></span>
                </div>
            </div>
        </div>
        <div class="expandable-content" id="expandableContent2">
            <p>Once your CSV(s) are ready, go to “Metadata Upload” tab, in the tool opened in web browser – </p>
            <p><img src="{{ user_instructions_image_dict['section_2_image_1'] }}"></p>
            <hr>
            <p>In the User Input section fill the table_name, upload the respective metadata .csv file and the number of records you want to generate. After filling all of these, click on “Generate Test Data” button.</p>
            <p><img src="{{ user_instructions_image_dict['section_2_image_2'] }}"></p>
            <hr>
            <p>A prompt of loading screen will appear and will remain there until the test data has been generated.</p>
            <p><img src="{{ user_instructions_image_dict['section_2_image_3'] }}"></p>
            <hr>
            <p>A success message will appear, once the test data is generated.</p>
            <p><img src="{{ user_instructions_image_dict['section_2_image_4'] }}"></p>
            <hr>
            <p>Like this you can upload multiple metadata for different tables and generate test data for them. If test data for more than one table is generated, then one extra button – “Define Key Relation” will appear.</p>
            <p><img src="{{ user_instructions_image_dict['section_2_image_5'] }}"></p>
            <hr>
            <p>You can click on the button to define any column relation between two tables.
                <br><br>The first section “Define Primary Key” will come for user to choose a table, which is the primary table. Select from the dropdown and click on “Get Columns”.
                </p>
            <p><img src="{{ user_instructions_image_dict['section_2_image_6'] }}"></p>
            <p>Two sections will open up – 
                <br>1)	“Select a Column” dropdown will appear, where all the columns of the chosen tables will be highlighted.
                <br>2)	A table will appear where user can see their ongoing selections.                
                </p>
            <p><img src="{{ user_instructions_image_dict['section_2_image_7'] }}"></p>
            <hr>
            <p>Select a column and click on “Finalize Primary Key” button. Once clicked, “Define Foreign Key” section will open up. From the dropdown you can choose the other table of the relation, and click on “Get Columns” button beside it.</p>
            <p><img src="{{ user_instructions_image_dict['section_2_image_8'] }}"></p>
            <hr>
            <p>“Select a Column” dropdown will open to choose between the columns of the table provided in the last step. Select the column which you want to relate with the primary key column chosen in the second last step. Then click on “Finalize Foreign Key” button.</p>
            <p><img src="{{ user_instructions_image_dict['section_2_image_9'] }}"></p>
            <hr>
            <p>Like this you can define multiple relations between tables. At any point you feel that your selection went wrong you can click on the “-” button appearing in the respective row.</p>
            <p><img src="{{ user_instructions_image_dict['section_2_image_10'] }}"></p>
            <hr>
            <p>There are 3 buttons at the top of the screen. The functionalities are –
                <br><br>1)	“Apply All Relations” – This will apply all the user defined relations in the test data generated.
                <br>2)	“Reset Index” – This will delete all defined relations at one go.
                <br>3)	“Delete All” – This will delete all uploaded metadata, generated test data, defined relations and logs created,
                <br><br>Upon clicking in any of the button, the below loading screen will appear. It might table some time, in case of applying relations in a huge chunk of data.
                </p>
            <p><img src="{{ user_instructions_image_dict['section_2_image_11'] }}"></p>
        </div>

        <!-- Divider Line -->
        <div class="divider-line"></div>

        <div class="expand-btn" onclick="toggleExpand('expandableContent3', 'arrowIcon3')">
            <div class="row">
                <div class="col-10">
                    What can you do in "CSV Download" tab?
                </div>
                <div class="col-2" align="right">
                    <span class="arrow-right" id="arrowIcon3"></span>
                </div>
            </div>
        </div>
        <div class="expandable-content" id="expandableContent3">
            <p>The next tab in this tool is – “CSV Download”. Navigate to this area to download generated test data, see metadata and top 10 records for any table.</p>
            <p><img src="{{ user_instructions_image_dict['section_3_image_1'] }}"></p>
            <hr>
            <p>Select any table from the dropdown and click on “Get Table Details” to check on metadata of the particular table and download test data for the same.</p>
            <p><img src="{{ user_instructions_image_dict['section_3_image_2'] }}"></p>
            <hr>
            <p>Click on the blue link, to download the generated test data of the chosen table – </p>
            <p><img src="{{ user_instructions_image_dict['section_3_image_3'] }}"></p>
            <hr>
            <p>If you click on “Top 10 Records”, it will show the top 10 generated test data for the chosen table.</p>
            <p><img src="{{ user_instructions_image_dict['section_3_image_4'] }}"></p>
        </div>

        <!-- Divider Line -->
        <div class="divider-line"></div>

        <div class="expand-btn" onclick="toggleExpand('expandableContent4', 'arrowIcon4')">
            <div class="row">
                <div class="col-10">
                    What is the use of "Check Logs" tab?
                </div>
                <div class="col-2" align="right">
                    <span class="arrow-right" id="arrowIcon4"></span>
                </div>
            </div>
        </div>
        <div class="expandable-content" id="expandableContent4">
            <p>After applying relations between generated test data, logs will be created for each such event. The last 10 logs can be downloaded from the “Check Log” tab of the navigation bar. The last generated log will be readable in the webpage itself. This “Check Log” tab will only be visible when there is at least one log generated during the process.</p>
            <p><img src="{{ user_instructions_image_dict['section_4_image_1'] }}"></p>
            <hr>
            <p>Upon clicking “Delete All Logs”, all past logs will be deleted, and the screen will return to “Metadata Upload” tab.</p>
            <p><img src="{{ user_instructions_image_dict['section_4_image_2'] }}"></p>
        </div>
    </div>

    <div class="copyright-container">
        <div class="copyright-text">
          Created by Arka Saha (anticlock909@gmail.com). &copy; 2025. All rights reserved.
        </div>
    </div>

    <script>
        function toggleExpand(contentId, arrowId) {
            var content = document.getElementById(contentId);
            var arrowIcon = document.getElementById(arrowId);
            
            if (content.style.display === 'none') {
            content.style.display = 'block';
            arrowIcon.classList.remove('arrow-right');
            arrowIcon.classList.add('arrow-down');
            } else {
            content.style.display = 'none';
            arrowIcon.classList.remove('arrow-down');
            arrowIcon.classList.add('arrow-right');
            }
        }
    </script>

</body>
</html>

</body>
</html>